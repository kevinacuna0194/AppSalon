{"version":3,"sources":["app.js"],"names":["resultado","document","querySelector","paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaSiguiente","paginaAnterior","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","seccionAnterior","classList","remove","pasoSelector","add","tabAnterior","async","url","fetch","mostrarServicios","json","error","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value","dia","Date","getUTCDay","includes","mostrarAlerta","split","resumen","firstChild","removeChild","Object","values","length","headingServicios","contenedorServicio","textoServicio","innerHTML","headingCita","fechaObj","mes","getMonth","getDate","year","getFullYear","fechaFormateada","UTC","toLocaleDateString","weekday","month","day","fechaCita","horaCita","botonReservar","reservarCita","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","idServicios","map","datos","FormData","append","respuesta","method","body","mostrarSpinner","spinner"],"mappings":"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","file":"app.js","sourcesContent":["const resultado = document.querySelector('#resultado');\r\n\r\nlet paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    id: '',\r\n    nombre: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n    mostrarSeccion() /** Mustra la seccion por defaul en /cita al ingresar  */\r\n    tabs(); /** Cambiar la seccion cuando se presionen los Tabs */\r\n    botonesPaginador(); /** Agrega o quita los botones del paginador */\r\n    paginaSiguiente();\r\n    paginaAnterior();\r\n\r\n    consultarAPI(); /** Consulta la API en el backend de PHP */\r\n\r\n    idCliente();\r\n    nombreCliente(); /** Añadir el nombre del cliente al objeto de Cita */\r\n    seleccionarFecha(); /** Añade la fecha de la cita en el objeto */\r\n    seleccionarHora(); /** Añade la hora de la cita en el objeto */\r\n\r\n    mostrarResumen(); /** Muestra el resumen de la cita */\r\n}\r\n\r\nfunction tabs() {\r\n    const botones = document.querySelectorAll('.tabs button');\r\n\r\n    botones.forEach(boton => {\r\n        boton.addEventListener('click', function (e) {\r\n            /** Detectar a que le estamos dando click para mostrar esa sección */\r\n            // console.log(e.target.dataset); // DOMStringMap {paso: \"1\"}\r\n            // console.log(typeof parseInt(e.target.dataset.paso)); \r\n            paso = parseInt(e.target.dataset.paso);\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n        });\r\n    });\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n    /** Ocultar la seccion que tenga la clase de mostrar */\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n    if (seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar');\r\n    }\r\n\r\n    /** Seleccionar la sección con el paso */\r\n    const pasoSelector = `#paso-${paso}`; // id=\"paso-1\"\r\n    const seccion = document.querySelector(pasoSelector); // <div id=\"paso-1\" class=\"seccion\">...</div>\r\n    seccion.classList.add('mostrar');\r\n\r\n    /** Quita la clase de actual al tab anterior */\r\n    const tabAnterior = document.querySelector('.actual');\r\n    if (tabAnterior) {\r\n        tabAnterior.classList.remove('actual');\r\n    }\r\n\r\n    /** Resalta el Tab actual */\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`)\r\n    tab.classList.add('actual');\r\n}\r\n\r\nfunction botonesPaginador() {\r\n    /** Registrar botonoes de siguiente y anterior */\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if (paso === 1) {\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    } else if (paso === 3) {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior() {\r\n    /** Seleccionar boton */\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', function () {\r\n        if (paso <= pasoInicial) return;\r\n\r\n        paso--;\r\n\r\n        botonesPaginador();\r\n    });\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', function () {\r\n        if (paso >= pasoFinal) return;\r\n\r\n        paso++;\r\n\r\n        botonesPaginador();\r\n    });\r\n}\r\n\r\nasync function consultarAPI() {\r\n    /** try, catch previene que tu aplicación deje de funcionar y te da un mensaje de error */\r\n    try {\r\n        const url = 'http://localhost:3000/api/servicios';\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();\r\n        mostrarServicios(servicios);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n        const { id, nombre, precio } = servicio;\r\n\r\n        const nombreServicio = document.createElement('P');\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$${precio}`;\r\n\r\n        const servicioDiv = document.createElement('DIV');\r\n        servicioDiv.classList.add('servicio');\r\n        servicioDiv.dataset.idServicio = id; /** Atributo perzonalizado */\r\n\r\n        /** Evento al Servicio */\r\n        servicioDiv.onclick = function () {\r\n            seleccionarServicio(servicio);\r\n        }\r\n\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n\r\n        document.querySelector('#servicios').appendChild(servicioDiv);\r\n    });\r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    /** Objeto completo */\r\n    const { id } = servicio;\r\n    /** Objeto */\r\n    const { servicios } = cita;\r\n    /** Identificar el elemento al que se le da click */\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    /** Comprobar si un servicio ya fue agregao */\r\n    if (servicios.some(agregado => agregado.id === id)) {\r\n        /** true - Agregado \r\n         * Eliminarlo */\r\n        cita.servicios = servicios.filter(agregado => agregado.id !== id);\r\n        divServicio.classList.remove('seleccionado');\r\n    } else {\r\n        /** false - no está agregado \r\n         * Agregarlo */\r\n        /** Toma una copia del arreglo servicios dentro del objeto creado y le voy agregando el nuevo servicio seleccionado en la interfaz de usuario. */\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add('seleccionado');\r\n    }\r\n}\r\n\r\nfunction idCliente() {\r\n    cita.id = document.querySelector('#id').value;\r\n}\r\n\r\nfunction nombreCliente() {\r\n    cita.nombre = document.querySelector('#nombre').value;\r\n}\r\n\r\nfunction seleccionarFecha() {\r\n    const inputFecha = document.querySelector('#fecha');\r\n    inputFecha.addEventListener('input', function (e) {\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        if ([6, 0].includes(dia)) {\r\n            e.target.value = '';\r\n            mostrarAlerta('Fines de semana no permitidos', 'error', '.formulario');\r\n        } else {\r\n            cita.fecha = e.target.value;\r\n        }\r\n    });\r\n}\r\n\r\nfunction seleccionarHora() {\r\n    const inputFecha = document.querySelector('#hora');\r\n    inputFecha.addEventListener('input', function (e) {\r\n        const horaCita = e.target.value;\r\n        // const hora = horaCita.split(':')\r\n\r\n        /* console.log(hora);\r\n        2) ['17', '56']\r\n        0: \"17\"\r\n        1: \"56\"length: 2\r\n        [[Prototype]]: Array(0) */\r\n\r\n        const hora = horaCita.split(':')[0];\r\n        if (hora < 10 || hora >= 18) {\r\n            e.target.value = '';\r\n            mostrarAlerta('Hora No Válida', 'error', '.formulario');\r\n        } else {\r\n            /** hora válida */\r\n            cita.hora = e.target.value;\r\n        }\r\n    });\r\n}\r\n\r\nfunction mostrarResumen() {\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    /** Limpiar el contenido de Resumen */\r\n    while (resumen.firstChild) {\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n\r\n    /*\r\n    console.log(Object.values(cita));\r\n    (4) [' Kevin Acuña', '', '', Array(0)]\r\n    0: \" Kevin Acuña\"\r\n    1: \"\"\r\n    2: \"\"\r\n    3: []\r\n    length: 4\r\n    [[Prototype]]: Array(0)\r\n    */\r\n\r\n    if (Object.values(cita).includes('') || cita.servicios.length === 0) {\r\n        mostrarAlerta('Faltan Datos de Servicios, Fecha u Hora', 'error', '.contenido-resumen', false);\r\n\r\n        return;\r\n    }\r\n\r\n    /** Formatear Div de resumen \r\n     * lo primero que voy a hacer aquí es de aplicar destructuring al Objeto de cita, a estas alturas ya tenemos todos los datos, ya pase la validación, se que todo va a tener información. */\r\n    const { nombre, fecha, hora, servicios } = cita;\r\n\r\n    /** Heading para servicios en Resumen */\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen de Servicios';\r\n    resumen.appendChild(headingServicios);\r\n\r\n    /** Iterando y mostrando los servicios */\r\n    servicios.forEach(servicio => {\r\n        const { id, nombre, precio } = servicio;\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.innerHTML = `<span>Precio</span> $${precio}`;\r\n\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n    });\r\n\r\n    /** Heading para Cita en Resumen */\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen de Cita';\r\n    resumen.appendChild(headingCita);\r\n\r\n    const nombreCliente = document.createElement('P');\r\n    nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n    /** Formatear fecha en español */\r\n    const fechaObj = new Date(fecha);\r\n    const mes = fechaObj.getMonth()\r\n    const dia = fechaObj.getDate();\r\n    const year = fechaObj.getFullYear();\r\n\r\n    /** console.log(fechaObj);  Sun Feb 26 2023 21:00:00 GMT-0300 (hora estándar de Uruguay) */\r\n    /** console.log(mes);  1 - Febrero */\r\n    /**console.log(dia);  26 */\r\n    /** console.log(year);  2023 */\r\n\r\n    const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n\r\n    const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }\r\n    const fechaFormateada = fechaUTC.toLocaleDateString('es-ES', opciones);\r\n\r\n    /** console.log(fechaUTC); /** Sat Feb 25 2023 21:00:00 GMT-0300 (hora estándar de Uruguay) */\r\n    /** console.log(fechaFormateada); /** 2023 sábado */\r\n\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n\r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora} Horas`;\r\n\r\n    /** Boton para crear una Cita */\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent = 'Reservar Cita';\r\n    /** Evento en el boton */\r\n    botonReservar.onclick = reservarCita;\r\n\r\n    resumen.appendChild(nombreCliente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n\r\n    resumen.appendChild(botonReservar);\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n    /** Previenen que se genere más de una alerta  */\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if (alertaPrevia) {\r\n        alertaPrevia.remove();\r\n    }\r\n\r\n    /** Scripting para crear la alerta */\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n\r\n    if (desaparece) {\r\n        /** Eliminar la alerta */\r\n        setTimeout(() => {\r\n            alerta.remove();\r\n        }, 3000);\r\n    }\r\n}\r\n\r\nasync function reservarCita() {\r\n\r\n    const { nombre, fecha, hora, servicios, id } = cita;\r\n\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n    // console.log(idServicios);\r\n\r\n    const datos = new FormData(); /** Submit pero con JavaScript */\r\n    datos.append('fecha', fecha);\r\n    datos.append('hora', hora);\r\n    datos.append('usuarioId', id);\r\n    datos.append('servicios', idServicios);\r\n\r\n    /** console.log([...datos]); /** [Array(2)] */\r\n    /** Array(3)\r\n    0: (2) ['nombre', ' Kevin Acuña']\r\n    1: (2) ['fecha', '2023-02-27']\r\n    2: (2) ['hora', '16:08']\r\n    length: 3\r\n    [[Prototype]]: Array(0) */\r\n\r\n    /** Petición hacia la API */\r\n    const url = 'http://localhost:3000/api/citas';\r\n    /** Enviar petición a la API con fetch. 1- fetch a la URL 2 - Objeto de configuración. Es meramente opcional, pero cuando envías una petición de tipo post es obligatorio */\r\n    const respuesta = await fetch(url, {\r\n        method: 'POST',\r\n        body: datos\r\n    });\r\n\r\n    const resultado = await respuesta.json(); // Resultado del método en el Controller.\r\n\r\n    console.log(resultado);\r\n}\r\n\r\nfunction mostrarSpinner() {\r\n    const spinner = document.createElement('div');\r\n    spinner.classList.add('sk-chase');\r\n\r\n    spinner.innerHTML = `\r\n        <div class=\"sk-chase-dot\"></div>\r\n        <div class=\"sk-chase-dot\"></div>\r\n        <div class=\"sk-chase-dot\"></div>\r\n        <div class=\"sk-chase-dot\"></div>\r\n        <div class=\"sk-chase-dot\"></div>\r\n        <div class=\"sk-chase-dot\"></div>\r\n    `;\r\n\r\n    resultado.appendChild(spinner);\r\n}"]}